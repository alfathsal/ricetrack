<!DOCTYPE html>
<html>
  <head>
    <title>RiceTrack | Form Farm To Fork</title>
    <meta name="theme-color" content="#008000">

    <link rel="manifest" href="manifest.json">

  </head>
  <body>

  <!-- mount point for the Mithril JS app -->
    <div id="app"></div>

  <!-- mount point for any Bootstrap modals -->
    <div id="modal-container"></div>

    <!-- mount hidden download links -->
    <div id="download-container"></div>

    <script src="dist/bundle.js"></script>

    <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
      .then(function(registration) {
        console.log('Service Worker Registered!', registration);
      })
      .catch(function(error) {
        console.log('Service Worker Registration failed:', error);
      });
    }
    </script>

    <script>
      let deferredPrompt;
      window.addEventListener('beforeinstallprompt', (e) => {
        e.preventDefault(); // Prevent the mini-infobar from appearing on mobile
        deferredPrompt = e; // Stash the event so it can be triggered later.
        // Update UI notify the user they can install the PWA
        showInstallPromotion();
      });
    </script>

  </body>
</html>
